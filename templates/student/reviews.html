{% extends 'base.html' %}

{% block title %}–û—Ç–∑—ã–≤—ã | –£–º–Ω–∞—è —Å—Ç–æ–ª–æ–≤–∞—è{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">–û—Ç–∑—ã–≤—ã –æ –±–ª—é–¥–∞—Ö</h1>
    <p class="page-subtitle">–û—Ü–µ–Ω–∏—Ç–µ –±–ª—é–¥–∞ –∏ –ø–æ–º–æ–≥–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å –º–µ–Ω—é</p>
</div>

<div class="grid grid-3">
    {% for dish in dishes %}
    <div class="card">
        <h3 class="mb-2">{{ dish.name }}</h3>
        <p class="text-muted mb-2">{{ dish.price }} ‚ÇΩ</p>
        
        {% if dish.user_review %}
        <div class="mb-2">
            <div class="rating">
                {% for i in "12345" %}
                    <span class="rating-star {% if forloop.counter <= dish.user_review.review %}filled{% endif %}">‚òÖ</span>
                {% endfor %}
            </div>
            {% if dish.user_review.comment %}
            <p class="text-muted mt-1" style="font-size: 0.875rem;">{{ dish.user_review.comment }}</p>
            {% endif %}
        </div>
        <a href="{% url 'student_add_review' dish.id %}" class="btn btn-secondary btn-sm">–ò–∑–º–µ–Ω–∏—Ç—å –æ—Ç–∑—ã–≤</a>
        {% else %}
        <a href="{% url 'student_add_review' dish.id %}" class="btn btn-outline btn-sm">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</a>
        {% endif %}
    </div>
    {% empty %}
    <div class="card" style="grid-column: 1 / -1;">
        <div class="empty-state">
            <div class="empty-state-icon">üçΩÔ∏è</div>
            <p>–ë–ª—é–¥–∞ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º—É</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
