{% extends 'base.html' %}

{% block title %}{% if menu %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é{% else %}–°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é{% endif %} | –£–º–Ω–∞—è —Å—Ç–æ–ª–æ–≤–∞—è{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">{% if menu %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é{% else %}–°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é{% endif %}</h1>
    <p class="page-subtitle">{% if menu %}{{ menu.date|date:"d.m.Y" }}{% else %}–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –±–ª—é–¥–∞{% endif %}</p>
</div>

<div class="card" style="max-width: 700px;">
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label class="form-label">–î–∞—Ç–∞</label>
            <input type="date" name="date" class="form-input" 
                   value="{% if menu %}{{ menu.date|date:'Y-m-d' }}{% endif %}" required>
        </div>
        
        <div class="form-group">
            <label class="form-label">üåÖ –ë–ª—é–¥–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞–∫</label>
            <div class="checkbox-list">
                {% for dish in form.breakfast_dishes.field.queryset %}
                <label>
                    <input type="checkbox" name="breakfast_dishes" value="{{ dish.id }}"
                        {% if dish in form.breakfast_dishes.initial %}checked{% endif %}>
                    {{ dish.name }} ({{ dish.price }} ‚ÇΩ)
                </label>
                {% empty %}
                <p class="text-muted">–ë–ª—é–¥–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã. <a href="{% url 'cook_dish_create' %}">–°–æ–∑–¥–∞—Ç—å –±–ª—é–¥–æ</a></p>
                {% endfor %}
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">‚òÄÔ∏è –ë–ª—é–¥–∞ –Ω–∞ –æ–±–µ–¥</label>
            <div class="checkbox-list">
                {% for dish in form.lunch_dishes.field.queryset %}
                <label>
                    <input type="checkbox" name="lunch_dishes" value="{{ dish.id }}"
                        {% if dish in form.lunch_dishes.initial %}checked{% endif %}>
                    {{ dish.name }} ({{ dish.price }} ‚ÇΩ)
                </label>
                {% endfor %}
            </div>
        </div>
        
        <div class="flex gap-2">
            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <a href="{% url 'cook_menu' %}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>
{% endblock %}
