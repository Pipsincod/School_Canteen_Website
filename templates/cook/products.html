{% extends 'base.html' %}

{% block title %}–°–∫–ª–∞–¥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ | –£–º–Ω–∞—è —Å—Ç–æ–ª–æ–≤–∞—è{% endblock %}

{% block content %}
<div class="page-header flex flex-between flex-center">
    <div>
        <h1 class="page-title">–°–∫–ª–∞–¥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h1>
        <p class="page-subtitle">–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å—Ç–∞—Ç–∫–æ–≤</p>
    </div>
    <div class="flex gap-2">
        <a href="{% url 'cook_application_create' %}" class="btn btn-secondary">üìù –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</a>
        <a href="{% url 'cook_product_create' %}" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</a>
    </div>
</div>

<div class="card">
    {% if products %}
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û—Å—Ç–∞—Ç–æ–∫</th>
                <th>–ê–ª–ª–µ—Ä–≥–µ–Ω—ã</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>{{ product.id }}</td>
                <td><strong>{{ product.name }}</strong></td>
                <td>
                    {% if product.amount < 5 %}
                        <span class="badge badge-danger">{{ product.amount }} —à—Ç.</span>
                    {% elif product.amount < 10 %}
                        <span class="badge badge-warning">{{ product.amount }} —à—Ç.</span>
                    {% else %}
                        <span class="badge badge-success">{{ product.amount }} —à—Ç.</span>
                    {% endif %}
                </td>
                <td>{{ product.alergens|default:"‚Äî" }}</td>
                <td>
                    <a href="{% url 'cook_product_edit' product.id %}" class="btn btn-secondary btn-sm">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="empty-state">
        <div class="empty-state-icon">üì¶</div>
        <p>–ü—Ä–æ–¥—É–∫—Ç—ã –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
        <a href="{% url 'cook_product_create' %}" class="btn btn-primary mt-2">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç</a>
    </div>
    {% endif %}
</div>
{% endblock %}
